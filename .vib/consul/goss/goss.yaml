file:   
  /opt/bitnami/consul/conf/consul.json:
    exists: true
    filetype: file
    mode: "0644"
    contains: 
    - /bootstrap_expect.*{{ .Vars.nodeCount }}/
    - /http.*{{ .Vars.http_port }}/
  /bitnami/consul:
    exists: true
    filetype: directory
    mode: "2775"
    owner: root
command:
  consul-kv-put:
    exec: consul kv put test test
    exit-status: 0
  consul-cli:
    exec: consul members
    exit-status: 0
    stdout: 
      - "consul-0"
      - "consul-1"
      - "consul-2"
    stderr: []    
